{"version":3,"file":"testDetail.js","names":["retryBtn","document","querySelector","clearTestFromStorage","testTitle","textContent","tests","JSON","parse","localStorage","getItem","updatedTests","filter","test","setItem","stringify","addEventListener","e","window","location","href","target","dataset","redirectUrl","resetAnswers","reload","updateSubheaderWithTestDetails","currentTest","answeredCount","totalQuestions","userName","formattedTime","subheader","innerHTML","concat","updateSubheaderDescription","loadTestResults","find","Object","keys","questions","q","answer","length","formatElapsedTime","totalTime","questionsHTML","forEach","questionNumber","index","questionData","correctAnswer","getElementById","style","display","seconds","hrs","Math","floor","mins","secs","toString","padStart","onload"],"sources":["testDetail.js"],"sourcesContent":["const retryBtn = document.querySelector(\"#retry-btn\")\r\nconst clearTestFromStorage = () => {\r\n    const testTitle = document.querySelector('.sidebar li.active').textContent;\r\n    const tests = JSON.parse(localStorage.getItem('tests')) || [];\r\n    const updatedTests = tests.filter(test => test.testTitle !== testTitle);\r\n    localStorage.setItem('tests', JSON.stringify(updatedTests)); // Сохраняем обновленный массив\r\n}\r\nretryBtn.addEventListener(\"click\", (e) => {\r\n    clearTestFromStorage()\r\n    window.location.href = e.target.dataset.redirectUrl\r\n})\r\n\r\nconst resetAnswers = () => {\r\n    clearTestFromStorage()\r\n    window.location.reload()\r\n}\r\n\r\nfunction updateSubheaderWithTestDetails(currentTest, answeredCount, totalQuestions, userName, formattedTime) {\r\n    const subheader = document.querySelector('.subheader');\r\n    subheader.innerHTML = `\r\n      <p class=\"subheader_exit\">Выход</p>\r\n      <h3>${currentTest.testTitle}</h3>\r\n      <div class=\"subheader_controls\">\r\n          <p id=\"resetAnswers\" onclick=\"resetAnswers()\">Сбросить все ответы</p>\r\n          <div class=\"subheader_divider\"></div>\r\n          <p id=\"subheader_controls_count\">${answeredCount}/${totalQuestions}</p>\r\n          <div class=\"subheader_divider\"></div>\r\n          <p id=\"timer\">${formattedTime}</p>\r\n      </div>\r\n  `;\r\n}\r\n\r\nfunction updateSubheaderDescription() {\r\n    const subheader = document.querySelector('.subheader');\r\n    subheader.innerHTML = `\r\n      <h2 class=\"subheader_title\">\r\n          Описание\r\n      </h2>\r\n  `;\r\n}\r\n\r\nfunction loadTestResults() {\r\n    const testTitle = document.querySelector('.sidebar li.active').textContent;\r\n    const tests = JSON.parse(localStorage.getItem('tests')) || [];\r\n    const currentTest = tests.find(test => test.testTitle === testTitle);\r\n    const userName = localStorage.getItem('userName') || 'Гость';\r\n\r\n    const answeredCount = currentTest ? Object.keys(currentTest.questions).filter(q => currentTest.questions[q].answer).length : 0;\r\n    const totalQuestions = currentTest ? Object.keys(currentTest.questions).length : 0;\r\n\r\n    if (currentTest) {\r\n        const formattedTime = formatElapsedTime(currentTest.totalTime || 0);\r\n        updateSubheaderWithTestDetails(currentTest, answeredCount, totalQuestions, userName, formattedTime);\r\n\r\n        //document.getElementById('result-title').textContent = testTitle;\r\n        let questionsHTML = '';\r\n\r\n        Object.keys(currentTest.questions).forEach((questionNumber, index) => {\r\n            const questionData = currentTest.questions[questionNumber];\r\n            questionsHTML += `\r\n        <div>\r\n          <h3>${index + 1}. Вопрос</h3>\r\n          <p>Правильный ответ: ${questionData.correctAnswer}</p>\r\n          <p>Вы ответили: ${questionData.answer ? questionData.answer : 'Не ответили.'}</p>\r\n        </div>\r\n      `;\r\n        });\r\n\r\n        document.getElementById('result-summary').textContent = `Вы ответили на ${answeredCount} из ${totalQuestions} вопросов.`;\r\n        document.getElementById('questions-list').innerHTML = questionsHTML;\r\n\r\n        document.getElementById('test-result').style.display = 'block';\r\n        document.getElementById('start-description').style.display = 'none';\r\n    } else {\r\n        updateSubheaderDescription(); // Обновление subheader в случае отсутствия теста\r\n        document.getElementById('start-description').style.display = 'block';\r\n        document.getElementById('test-result').style.display = 'none';\r\n    }\r\n\r\n    function formatElapsedTime(seconds) {\r\n        const hrs = Math.floor(seconds / 3600);\r\n        const mins = Math.floor((seconds % 3600) / 60);\r\n        const secs = seconds % 60;\r\n\r\n        return `${hrs.toString().padStart(2, '0')}:${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;\r\n    }\r\n}\r\nwindow.onload = () => {\r\n    loadTestResults()\r\n}\r\n\r\n\r\n"],"mappings":";;AAAA,IAAMA,QAAQ,GAAGC,QAAQ,CAACC,aAAa,CAAC,YAAY,CAAC;AACrD,IAAMC,oBAAoB,GAAG,SAAvBA,oBAAoBA,CAAA,EAAS;EAC/B,IAAMC,SAAS,GAAGH,QAAQ,CAACC,aAAa,CAAC,oBAAoB,CAAC,CAACG,WAAW;EAC1E,IAAMC,KAAK,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE;EAC7D,IAAMC,YAAY,GAAGL,KAAK,CAACM,MAAM,CAAC,UAAAC,IAAI;IAAA,OAAIA,IAAI,CAACT,SAAS,KAAKA,SAAS;EAAA,EAAC;EACvEK,YAAY,CAACK,OAAO,CAAC,OAAO,EAAEP,IAAI,CAACQ,SAAS,CAACJ,YAAY,CAAC,CAAC,CAAC,CAAC;AACjE,CAAC;AACDX,QAAQ,CAACgB,gBAAgB,CAAC,OAAO,EAAE,UAACC,CAAC,EAAK;EACtCd,oBAAoB,CAAC,CAAC;EACtBe,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAGH,CAAC,CAACI,MAAM,CAACC,OAAO,CAACC,WAAW;AACvD,CAAC,CAAC;AAEF,IAAMC,YAAY,GAAG,SAAfA,YAAYA,CAAA,EAAS;EACvBrB,oBAAoB,CAAC,CAAC;EACtBe,MAAM,CAACC,QAAQ,CAACM,MAAM,CAAC,CAAC;AAC5B,CAAC;AAED,SAASC,8BAA8BA,CAACC,WAAW,EAAEC,aAAa,EAAEC,cAAc,EAAEC,QAAQ,EAAEC,aAAa,EAAE;EACzG,IAAMC,SAAS,GAAG/B,QAAQ,CAACC,aAAa,CAAC,YAAY,CAAC;EACtD8B,SAAS,CAACC,SAAS,wFAAAC,MAAA,CAEXP,WAAW,CAACvB,SAAS,iUAAA8B,MAAA,CAIYN,aAAa,OAAAM,MAAA,CAAIL,cAAc,yFAAAK,MAAA,CAElDH,aAAa,2BAEpC;AACH;AAEA,SAASI,0BAA0BA,CAAA,EAAG;EAClC,IAAMH,SAAS,GAAG/B,QAAQ,CAACC,aAAa,CAAC,YAAY,CAAC;EACtD8B,SAAS,CAACC,SAAS,wHAIpB;AACH;AAEA,SAASG,eAAeA,CAAA,EAAG;EACvB,IAAMhC,SAAS,GAAGH,QAAQ,CAACC,aAAa,CAAC,oBAAoB,CAAC,CAACG,WAAW;EAC1E,IAAMC,KAAK,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE;EAC7D,IAAMiB,WAAW,GAAGrB,KAAK,CAAC+B,IAAI,CAAC,UAAAxB,IAAI;IAAA,OAAIA,IAAI,CAACT,SAAS,KAAKA,SAAS;EAAA,EAAC;EACpE,IAAM0B,QAAQ,GAAGrB,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,IAAI,OAAO;EAE5D,IAAMkB,aAAa,GAAGD,WAAW,GAAGW,MAAM,CAACC,IAAI,CAACZ,WAAW,CAACa,SAAS,CAAC,CAAC5B,MAAM,CAAC,UAAA6B,CAAC;IAAA,OAAId,WAAW,CAACa,SAAS,CAACC,CAAC,CAAC,CAACC,MAAM;EAAA,EAAC,CAACC,MAAM,GAAG,CAAC;EAC9H,IAAMd,cAAc,GAAGF,WAAW,GAAGW,MAAM,CAACC,IAAI,CAACZ,WAAW,CAACa,SAAS,CAAC,CAACG,MAAM,GAAG,CAAC;EAElF,IAAIhB,WAAW,EAAE;IACb,IAAMI,aAAa,GAAGa,iBAAiB,CAACjB,WAAW,CAACkB,SAAS,IAAI,CAAC,CAAC;IACnEnB,8BAA8B,CAACC,WAAW,EAAEC,aAAa,EAAEC,cAAc,EAAEC,QAAQ,EAAEC,aAAa,CAAC;;IAEnG;IACA,IAAIe,aAAa,GAAG,EAAE;IAEtBR,MAAM,CAACC,IAAI,CAACZ,WAAW,CAACa,SAAS,CAAC,CAACO,OAAO,CAAC,UAACC,cAAc,EAAEC,KAAK,EAAK;MAClE,IAAMC,YAAY,GAAGvB,WAAW,CAACa,SAAS,CAACQ,cAAc,CAAC;MAC1DF,aAAa,sCAAAZ,MAAA,CAETe,KAAK,GAAG,CAAC,6JAAAf,MAAA,CACQgB,YAAY,CAACC,aAAa,wFAAAjB,MAAA,CAC/BgB,YAAY,CAACR,MAAM,GAAGQ,YAAY,CAACR,MAAM,GAAG,cAAc,iCAE/E;IACC,CAAC,CAAC;IAEFzC,QAAQ,CAACmD,cAAc,CAAC,gBAAgB,CAAC,CAAC/C,WAAW,iFAAA6B,MAAA,CAAqBN,aAAa,oBAAAM,MAAA,CAAOL,cAAc,uDAAY;IACxH5B,QAAQ,CAACmD,cAAc,CAAC,gBAAgB,CAAC,CAACnB,SAAS,GAAGa,aAAa;IAEnE7C,QAAQ,CAACmD,cAAc,CAAC,aAAa,CAAC,CAACC,KAAK,CAACC,OAAO,GAAG,OAAO;IAC9DrD,QAAQ,CAACmD,cAAc,CAAC,mBAAmB,CAAC,CAACC,KAAK,CAACC,OAAO,GAAG,MAAM;EACvE,CAAC,MAAM;IACHnB,0BAA0B,CAAC,CAAC,CAAC,CAAC;IAC9BlC,QAAQ,CAACmD,cAAc,CAAC,mBAAmB,CAAC,CAACC,KAAK,CAACC,OAAO,GAAG,OAAO;IACpErD,QAAQ,CAACmD,cAAc,CAAC,aAAa,CAAC,CAACC,KAAK,CAACC,OAAO,GAAG,MAAM;EACjE;EAEA,SAASV,iBAAiBA,CAACW,OAAO,EAAE;IAChC,IAAMC,GAAG,GAAGC,IAAI,CAACC,KAAK,CAACH,OAAO,GAAG,IAAI,CAAC;IACtC,IAAMI,IAAI,GAAGF,IAAI,CAACC,KAAK,CAAEH,OAAO,GAAG,IAAI,GAAI,EAAE,CAAC;IAC9C,IAAMK,IAAI,GAAGL,OAAO,GAAG,EAAE;IAEzB,UAAArB,MAAA,CAAUsB,GAAG,CAACK,QAAQ,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,OAAA5B,MAAA,CAAIyB,IAAI,CAACE,QAAQ,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,OAAA5B,MAAA,CAAI0B,IAAI,CAACC,QAAQ,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC;EACrH;AACJ;AACA5C,MAAM,CAAC6C,MAAM,GAAG,YAAM;EAClB3B,eAAe,CAAC,CAAC;AACrB,CAAC","ignoreList":[]}